#This is where optimization should go. 
#Due to circular dependences not done yet